<h1>Spending Summary by Category</h1>

<div class="summary_type_navbar">
  <%= link_to "By Day", summaries_by_category_path + "?averaging_time=day#{@params_for_link_url}", {class: mark_current_tab(@averaging_time,"day")} %>
  <%= link_to "By Month", summaries_by_category_path + "?averaging_time=month#{@params_for_link_url}", {class: mark_current_tab(@averaging_time,"month")} %>
  <%= link_to "By Year", summaries_by_category_path + "?averaging_time=year#{@params_for_link_url}", {class: mark_current_tab(@averaging_time,"year")} %>
  <%= link_to "By Account", summaries_by_account_path %>
  <%= link_to "By Transaction Direction", summaries_by_transaction_direction_path %>
</div>

<div class="filter">
  <%= form_tag request.path, method: 'get' do %>
    <div class="field number">
      <%= label_tag :year %>
      <%= number_field_tag :year, params[:year] %>
    </div>
    <div class="field number">
      <%= label_tag :month %>
      <%= number_field_tag :month, params[:month] %>
    </div>
    <div class="field number">
      <%= label_tag :day %>
      <%= number_field_tag :day, params[:day] %>
    </div>
    <div class="field">
      <%= label_tag :category %>
      <%= select_tag :transaction_category_id, options_from_collection_for_select(@user_transaction_categories,:id,:name,params[:transaction_category_id]), { :include_blank => true } %>
    </div>
    <div class="actions">
      <%= submit_tag "Search" %>
      <%= hidden_field_tag :averaging_time, params[:averaging_time] %>
    </div>
  <% end %>
</div>

<%= render 'table' %>